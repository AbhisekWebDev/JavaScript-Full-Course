<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>Send a Request To a Server</p>
    <br>
    <p>GET Request</p>
    <button type="button" onclick="loadDoc()">Request data</button>
    <p id="result"></p>
    <br>
    <p>POST Request</p>
    <button type="button" onclick="loadDoc1()">Request data</button>
    <p id="result1"></p>

    <script>

    // To send a request to a server, we use the open() and send() methods of the XMLHttpRequest object:
        // xhttp.open("GET", "ajax_info.txt", true);
        // xhttp.send();


    // Asynchronous - True or False?
        // Server requests should be sent asynchronously.
        // The async parameter of the open() method should be set to true:

        // xhttp.open("GET", "ajax_test.asp", true);

        // By sending asynchronously, the JavaScript does not have to wait for the server response, but can instead:
            // execute other scripts while waiting for server response
            // deal with the response after the response is ready

            // The default value for the async parameter is async = true.
            // You can safely remove the third parameter from your code.

    // GET Requests
        // A simple GET request:

        // Example
        // xhttp.open("GET", "demo_get.asp");
        // xhttp.send();

        // In the example above, you may get a cached result. To avoid this, add a unique ID to the URL:

        // Example
        // xhttp.open("GET", "demo_get.asp?t=" + Math.random());
        // xhttp.send();

        function loadDoc() {

            const xhttp = new XMLHttpRequest();

            xhttp.onload = function() {
                document.getElementById("result").innerHTML = this.responseText;
            }

            xhttp.open("GET", "ajax_info.txt?t=" + Math.random());
            xhttp.send();
        }


    // POST Requests
        // A simple POST request:

        // Example
        // xhttp.open("POST", "demo_post.asp");
        // xhttp.send();

        // To POST data like an HTML form, add an HTTP header with setRequestHeader(). Specify the data you want to send in the send() method:

        // Example
        // xhttp.open("POST", "ajax_test.asp");
        // xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        // xhttp.send("fname=Henry&lname=Ford");

        function loadDoc1() {

            const xhttp1 = new XMLHttpRequest();

            xhttp1.onload = function() {
                document.getElementById("result1").innerHTML = this.responseText;
            }

            xhttp1.open("POST", "ajax_info.txt");
            xhttp1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp1.send("fname=Abhisek&lname=Kumar");
        }

        // This POST will not run because
            // The issue is not related to your JavaScript code; it's more likely a server-side configuration problem. 
            // The server needs to be configured to allow POST requests for the specified URL.
            // If you have control over the server, you should ensure that the server-side script or endpoint for "ajax_info.txt" allows POST requests. 
            // If you are not in control of the server, you won't be able to perform POST requests to it unless the server owner allows it.

            // Remember that for POST requests, you need to have a server-side endpoint that is set up to handle the POST data and respond accordingly. 
            // If the server is not configured to accept POST requests for "ajax_info.txt," you won't be able to make a successful POST request to that specific URL.

    </script>
</body>
</html>